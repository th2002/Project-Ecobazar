<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Exam</title>
    <link rel="stylesheet" href="./output.css" />
  </head>
  <body>
    <header>
      <div
        class="flex flex-col w-full gap-4 bg-lime-500 h-[100px] text-white text-sm px-[100px] py-5">
        <div class="flex items-center justify-between">
          <div>contact: dinhletrunghieu@gmail.com</div>
          <div><a href="#">Đăng nhập</a> / <a href="#">Đăng ký</a></div>
        </div>
        <div>
          <p>Website bán hàng xịn xò nhất quả đất</p>
        </div>
      </div>
      <!-- Nav link -->
      <div class="flex flex-row justify-between h-[90px] px-[100px] py-5">
        <div><h1 class="font-semibold text-gray-500">Green Fresh</h1></div>
        <div>
          <ul class="flex flex-row gap-8">
            <li>Trang chủ</li>
            <li>Sản phẩm</li>
            <li>Blog</li>
            <li>Tuyển Dụng</li>
            <li>Liên hệ</li>
          </ul>
        </div>
        <div>Giỏ hàng:</div>
      </div>
      <!-- Search input -->
      <div class="flex flex-row items-center justify-center w-full gap-4">
        <input
          placeholder="Tìm kiếm sản phẩm theo tên hoặc theo giá"
          class="w-[600px] border border-gray-300 rounded-full placeholder:text-gray-500 placeholder:text-sm px-5 py-3"
          type="text" />
        <div class="flex flex-col">
          <span class="font-semibold">+8477766613</span>
          <span class="text-sm text-gray-400"
            >Thứ 2-6: 8:30am - 7:30pm; thứ 7-CN:</span
          >
          <span class="text-sm text-gray-400">9:30am - 4:30pm</span>
        </div>
      </div>

      <!-- Banner -->
      <div class="w-full h-[400px] mt-8">
        <img
          class="object-cover"
          src="./assets/images/banners/Banner4.png"
          alt="banner" />
      </div>
    </header>

    <div class="flex flex-row items-center justify-center w-full gap-8">
      <img
        id="imgProduct"
        class="object-cover w-1/3"
        src="./assets/images/products/lettuce.png"
        alt="product" />
      <div class="flex flex-col justify-center w-1/2 gap-4">
        <h1 id="category" class="text-6xl font-semibold">Rau</h1>
        <span id="description" class="text-3xl"
          >Thực phẩm sạch tốt cho sức khỏe</span
        >
        <span id="nameProduct" class="text-gray-400">Lettuce</span>
        <div>
          <span id="priceProduct" class="text-4xl font-semibold">77,000</span>
          <span class="text-2xl text-gray-300 line-through">999,999</span>
        </div>
        <button
          id="btnPay"
          class="w-[200px] px-5 py-3 text-white rounded-full bg-lime-800 hover:bg-opacity-75">
          Thêm vào giỏ hàng
        </button>
      </div>
    </div>

    <!-- Javascript -->
    <script>
      const imgProduct = document.getElementById("imgProduct");
      const priceProduct = document.getElementById("priceProduct");
      const category = document.getElementById("category");
      const nameProduct = document.getElementById("nameProduct");
      const btnPay = document.getElementById("btnPay");

      // làm hiệu ứng fedein/fedeout cho ảnh khi focus vào
      imgProduct.addEventListener("mouseover", () => {
        imgProduct.style.opacity = "0.5";
      });
      imgProduct.addEventListener("mouseout", () => {
        imgProduct.style.opacity = "1";
      });

      // Add to cart
      const addToCart = (name, category, price, img) => {
        var cart = JSON.parse(localStorage.getItem("cart")) || [];

        let product = cart.find((cartItem) => cartItem.name == name);
        if (product) {
          product.quantity += 1;
        } else {
          cart.push({
            name: nameProduct.innerText,
            category: category.innerText,
            price: priceProduct.innerText,
            img: imgProduct.src,
            quantity: 1,
          });
        }

        localStorage.setItem("cart", JSON.stringify(cart));
      };

      //   handle click
      btnPay.addEventListener("click", (e) => {
        e.preventDefault();
        addToCart(nameProduct, category, priceProduct, imgProduct, 1);

        // đổi màu button
        btnPay.style.backgroundColor = "#34D399";

        alert("Thêm vào giỏ hàng thành công");
      });
    </script>
  </body>
</html>
